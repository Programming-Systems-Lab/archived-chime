<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<html lang="en">
<head>
<title>Siena C++ API Documentation</title>
<meta http-equiv="Reply-to" content="carzanig@cs.colorado.edu">
<meta http-equiv="Owner" content="Antonio Carzaniga">
<meta name="Author" content="Antonio Carzaniga">
<link href="antodoc.css" rel="stylesheet" type="text/css">
<link rev=MADE href="mailto:carzanig@cs.colorado.edu">
</head>
<body>
<div align=right><em><a
href="http://www.cs.colorado.edu/~carzanig/siena/index.html">Siena</a></em>
C++ API documentation (v. 0.4.1)</div>
<hr>
<!-- Generated by Doxygen 1.2.8.1 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="examples.html">Examples</a> &nbsp; </center>
<hr><h1>Comm.h</h1><div class="fragment"><pre>00001 <font class="comment">// -*- C++ -*-</font>
00002 <font class="comment">//</font>
00003 <font class="comment">//  This file is part of Siena, a wide-area event notification system.</font>
00004 <font class="comment">//  See http://www.cs.colorado.edu/serl/siena/</font>
00005 <font class="comment">//</font>
00006 <font class="comment">//  Author: Antonio Carzaniga &lt;carzanig@cs.colorado.edu&gt;</font>
00007 <font class="comment">//  See the file AUTHORS for full details. </font>
00008 <font class="comment">//</font>
00009 <font class="comment">//  Copyright (C) 1998-2001 University of Colorado</font>
00010 <font class="comment">//</font>
00011 <font class="comment">//  This program is free software; you can redistribute it and/or</font>
00012 <font class="comment">//  modify it under the terms of the GNU General Public License</font>
00013 <font class="comment">//  as published by the Free Software Foundation; either version 2</font>
00014 <font class="comment">//  of the License, or (at your option) any later version.</font>
00015 <font class="comment">//</font>
00016 <font class="comment">//  This program is distributed in the hope that it will be useful,</font>
00017 <font class="comment">//  but WITHOUT ANY WARRANTY; without even the implied warranty of</font>
00018 <font class="comment">//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font>
00019 <font class="comment">//  GNU General Public License for more details.</font>
00020 <font class="comment">//</font>
00021 <font class="comment">//  You should have received a copy of the GNU General Public License</font>
00022 <font class="comment">//  along with this program; if not, write to the Free Software</font>
00023 <font class="comment">//  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307,</font>
00024 <font class="comment">//  USA, or send email to serl@cs.colorado.edu.</font>
00025 <font class="comment">//</font>
00026 <font class="comment">//</font>
00027 <font class="comment">// $Id$</font>
00028 <font class="comment">//</font>
00029 <font class="preprocessor">#ifndef _Comm_h</font>
00030 <font class="preprocessor"></font><font class="preprocessor">#define _Comm_h</font>
00031 <font class="preprocessor"></font>
00032 <font class="preprocessor">#include &lt;sienaconf.h&gt;</font>
00033 
00034 <font class="preprocessor">#ifdef USING_WIN32</font>
00035 <font class="preprocessor"></font><font class="preprocessor">#include &lt;winsock.h&gt;</font>
00036 <font class="preprocessor">#else</font>
00037 <font class="preprocessor"></font><font class="preprocessor">#include&lt;sys/socket.h&gt;</font>
00038 <font class="preprocessor">#include&lt;netinet/in.h&gt;</font>
00039 <font class="preprocessor">#endif</font>
00040 <font class="preprocessor"></font>
00041 <font class="preprocessor">#include &lt;exception&gt;</font>
00042 <font class="preprocessor">#include &lt;string&gt;</font>
00043 
00044 <font class="preprocessor">#ifdef USING_WIN32</font>
00045 <font class="preprocessor"></font><font class="keyword">using</font> <font class="keyword">namespace </font>std;
00046 <font class="preprocessor">#endif</font>
00047 <font class="preprocessor"></font>
00048 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00049 
00050 <font class="preprocessor">#ifdef HAVE_CXX_NAMESPACE</font>
00051 <font class="preprocessor"></font><font class="keyword">namespace </font>Siena {
00052 <font class="preprocessor">#endif</font>
00053 <font class="preprocessor"></font>
<a name="l00056"></a><a class="code" href="classCommException.html">00056</a> <font class="keyword">class </font><a class="code" href="classCommException.html">CommException</a>: <font class="keyword">public</font> exception {
00057 <font class="keyword">public</font>:
00058     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *what() <font class="keyword">const</font>;
00059 };
00060 
<a name="l00063"></a><a class="code" href="classCommError.html">00063</a> <font class="keyword">class </font><a class="code" href="classCommError.html">CommError</a>: <font class="keyword">public</font> <a class="code" href="classCommException.html">CommException</a> {
00064 <font class="keyword">public</font>:
00065     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *what() <font class="keyword">const</font>;
00066 };
00067 
<a name="l00070"></a><a class="code" href="classCommInterrupted.html">00070</a> <font class="keyword">class </font><a class="code" href="classCommInterrupted.html">CommInterrupted</a>: <font class="keyword">public</font> <a class="code" href="classCommException.html">CommException</a> {
00071 <font class="keyword">public</font>:
00072     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *what() <font class="keyword">const</font>;
00073 };
00074 
<a name="l00077"></a><a class="code" href="classBadSender.html">00077</a> <font class="keyword">class </font><a class="code" href="classBadSender.html">BadSender</a>: <font class="keyword">public</font> exception {
00078 <font class="keyword">public</font>:
00079     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *what() <font class="keyword">const</font>;
00080 };
00081 
<a name="l00084"></a><a class="code" href="classBadSenderSchema.html">00084</a> <font class="keyword">class </font><a class="code" href="classBadSenderSchema.html">BadSenderSchema</a>: <font class="keyword">public</font> <a class="code" href="classBadSender.html">BadSender</a> {
00085 <font class="keyword">public</font>:
00086     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *what() <font class="keyword">const</font>;
00087 };
00088 
<a name="l00091"></a><a class="code" href="classUnknownHost.html">00091</a> <font class="keyword">class </font><a class="code" href="classUnknownHost.html">UnknownHost</a>: <font class="keyword">public</font> <a class="code" href="classBadSender.html">BadSender</a> {
00092 <font class="keyword">public</font>:
00093     <font class="keyword">virtual</font> <font class="keyword">const</font> <font class="keywordtype">char</font> *what() <font class="keyword">const</font>;
00094 };
00095 
<a name="l00104"></a><a class="code" href="classSender.html">00104</a> <font class="keyword">class </font><a class="code" href="classSender.html">Sender</a> { 
00105  <font class="keyword">public</font>:
00110     <font class="keyword">static</font> <a class="code" href="classSender.html">Sender</a> *     create_sender(<font class="keyword">const</font> string &amp;);
00111 
00112     <font class="keyword">virtual</font>             ~Sender();
00113 
00118     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        send(<font class="keyword">const</font> <font class="keywordtype">char</font> *, size_t) <font class="keywordflow">throw</font> (<a class="code" href="classCommException.html">CommException</a>) = 0;
00119 
00122     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        shutdown();
00123 };
00124 
<a name="l00133"></a><a class="code" href="classReceiver.html">00133</a> <font class="keyword">class </font><a class="code" href="classReceiver.html">Receiver</a> { 
00134  <font class="keyword">public</font>:
00137     <font class="keyword">virtual</font>             ~Receiver();
00138 
00145     <font class="keyword">virtual</font> string      uri() = 0;
00146 
00153     <font class="keyword">virtual</font> string &amp;    uri(string &amp;) = 0;
00154 
00159     <font class="keyword">virtual</font> size_t      receive(<font class="keywordtype">char</font> *, size_t) <font class="keywordflow">throw</font> (<a class="code" href="classCommException.html">CommException</a>) = 0;
00160 
00163     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        shutdown();
00164 };
00165 
<a name="l00171"></a><a class="code" href="classTCPSender.html">00171</a> <font class="keyword">class </font><a class="code" href="classTCPSender.html">TCPSender</a>: <font class="keyword">public</font> <a class="code" href="classSender.html">Sender</a> {
00172 <font class="keyword">public</font>:
00173                         TCPSender(<font class="keyword">const</font> string &amp;host, in_port_t port);
00174                         TCPSender(in_addr_t ip, in_port_t port);
00175 
00176     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        send(<font class="keyword">const</font> <font class="keywordtype">char</font> *, size_t) <font class="keywordflow">throw</font> (<a class="code" href="classCommException.html">CommException</a>);
00177 
00178 <font class="keyword">private</font>:
00179     in_port_t port;
00180     in_addr_t ip;
00181 };
00182 
<a name="l00189"></a><a class="code" href="classUDPSender.html">00189</a> <font class="keyword">class </font><a class="code" href="classUDPSender.html">UDPSender</a>: <font class="keyword">public</font> <a class="code" href="classSender.html">Sender</a> {
00190 <font class="keyword">public</font>:
00191                         UDPSender(<font class="keyword">const</font> string &amp;host, in_port_t port);
00192                         UDPSender(in_addr_t ip, in_port_t port);
00193 
00194     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        shutdown();
00195 
00196     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        send(<font class="keyword">const</font> <font class="keywordtype">char</font> *, size_t) <font class="keywordflow">throw</font> (<a class="code" href="classCommException.html">CommException</a>);
00197 <font class="keyword">private</font>:
00198     in_port_t port;
00199     in_addr_t ip;
00200 <font class="preprocessor">#ifdef USING_WIN32</font>
00201 <font class="preprocessor"></font>    SOCKET sock_fd;
00202 <font class="preprocessor">#else</font>
00203 <font class="preprocessor"></font>    <font class="keywordtype">int</font> sock_fd;
00204 <font class="preprocessor">#endif</font>
00205 <font class="preprocessor"></font>};
00206 
<a name="l00214"></a><a class="code" href="classTCPReceiver.html">00214</a> <font class="keyword">class </font><a class="code" href="classTCPReceiver.html">TCPReceiver</a>: <font class="keyword">public</font> <a class="code" href="classReceiver.html">Receiver</a> {
00215 <font class="keyword">public</font>:
00234                         TCPReceiver(in_port_t port, 
00235                                     <font class="keyword">const</font> <font class="keywordtype">char</font> * hostname = NULL, 
00236                                     <font class="keywordtype">bool</font> reuse = <font class="keyword">true</font>, 
00237                                     <font class="keywordtype">int</font> maxconn = -1 <font class="comment">/* default */</font>);
00238 
00239     <font class="keyword">virtual</font> size_t      receive(<font class="keywordtype">char</font> *, size_t) <font class="keywordflow">throw</font> (<a class="code" href="classCommException.html">CommException</a>);
00240     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        shutdown();
00241 
00242     <font class="keyword">virtual</font> string      uri();
00243     <font class="keyword">virtual</font> string &amp;    uri(string &amp;);
00244 
00245 <font class="keyword">private</font>:
00246     in_port_t port;
00247     string _uri;
00248 <font class="preprocessor">#ifdef USING_WIN32</font>
00249 <font class="preprocessor"></font>    SOCKET sock_fd;
00250 <font class="preprocessor">#else</font>
00251 <font class="preprocessor"></font>    <font class="keywordtype">int</font> sock_fd;
00252 <font class="preprocessor">#endif</font>
00253 <font class="preprocessor"></font>};
00254 
<a name="l00262"></a><a class="code" href="classUDPReceiver.html">00262</a> <font class="keyword">class </font><a class="code" href="classUDPReceiver.html">UDPReceiver</a>: <font class="keyword">public</font> <a class="code" href="classReceiver.html">Receiver</a> {
00263 <font class="keyword">public</font>:
00279                         UDPReceiver(in_port_t p, 
00280                                     <font class="keyword">const</font> <font class="keywordtype">char</font> * hostname = NULL, 
00281                                     <font class="keywordtype">bool</font> reuse = <font class="keyword">true</font>);
00282 
00283     <font class="keyword">virtual</font> size_t      receive(<font class="keywordtype">char</font> *, size_t) <font class="keywordflow">throw</font> (<a class="code" href="classCommException.html">CommException</a>);
00284     <font class="keyword">virtual</font> <font class="keywordtype">void</font>        shutdown();
00285 
00286     <font class="keyword">virtual</font> string      uri();
00287     <font class="keyword">virtual</font> string &amp;    uri(string &amp;);
00288 
00289 <font class="keyword">private</font>:
00290     in_port_t port;
00291     string _uri;
00292 <font class="preprocessor">#ifdef USING_WIN32</font>
00293 <font class="preprocessor"></font>    SOCKET sock_fd;
00294 <font class="preprocessor">#else</font>
00295 <font class="preprocessor"></font>    <font class="keywordtype">int</font> sock_fd;
00296 <font class="preprocessor">#endif</font>
00297 <font class="preprocessor"></font>};
00298 
00299 <font class="preprocessor">#ifndef NO_INLINE</font>
00300 <font class="preprocessor"></font><font class="preprocessor">#include &lt;siena/Comm.icc&gt;</font>
00301 <font class="preprocessor">#endif</font>
00302 <font class="preprocessor"></font>
00303 <font class="preprocessor">#ifdef HAVE_CXX_NAMESPACE</font>
00304 <font class="preprocessor"></font>}; <font class="comment">// namespace Siena</font>
00305 <font class="preprocessor">#endif</font>
00306 <font class="preprocessor"></font>
00307 <font class="preprocessor">#endif</font>
</font></pre></div><hr>
Copyright &#169; 2001  University of Colorado.
<br>
<small>Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License,
Version 1.1 or any later version published by the Free Software
Foundation; with no Invariant Sections, no Front-Cover Texts and no
Back-Cover Texts.  A copy of the license is included in the section
entitled <a href="fdl.txt">"GNU Free Documentation License"</a>.
This documentation is authored and maintained by 
<a href="http://www.cs.colorado.edu/~carzanig/">Antonio
Carzaniga</a></small>
</body></html>
